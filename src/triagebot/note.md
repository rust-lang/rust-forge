# Note

The `note` command can be used to update the top comment of a GitHub issue with a summary.

## Usage

A summary note can be added to a GitHub issue by writing a comment with the command:

```text
@rustbot note summary-title
```

The word after `note` is then added as a link to the top comment of the GitHub issue:

```markdown
<!-- TRIAGEBOT_SUMMARY_START -->

### Summary Notes

- ["summary-title" by @username](link-to-comment)

Generated by triagebot, see [help](https://github.com/rust-lang/triagebot/wiki/Note) for how to add more
<!-- TRIAGEBOT_SUMMARY_END -->
```

with a link to the comment where you posted the `note` command.

The title word can be a sequence of characters matching the regular expression `[^.,:!?;\n() ]+`.
Or it can be a quoted string like `"this is a title"`.

Additional notes will get appended to the list:

```markdown
<!-- TRIAGEBOT_SUMMARY_START -->

### Summary Notes

- ["first-note" by @username](link-to-comment)
- ["second-note" by @username](link-to-comment)
- ["summary-title" by @username](link-to-comment)

<!-- TRIAGEBOT_SUMMARY_END -->
```

This summary section should **not** be edited by hand.

### Removing an existing summary

Notes can be removed by writing a comment with `@rustbot note remove summary-title`,
where `summary-title` is the word used when the note was created.
Triagebot will remove the entry from the summary list.

## Configuration

This feature is enabled by having a `[note]` table in `triagebot.toml`:

```toml
[note]
```

## Implementation

See [`parser/src/command/note.rs`](https://github.com/rust-lang/triagebot/blob/HEAD/parser/src/command/note.rs) and [`src/handlers/note.rs`](https://github.com/rust-lang/triagebot/blob/HEAD/src/handlers/note.rs).
